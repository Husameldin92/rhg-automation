name: ğŸ› ï¸ Universal Patterns - Works in Any Project

on:
  workflow_dispatch:  # Manual trigger
  push:              # Runs on every code push
    branches: [main] # Only on main branch

jobs:
  universal-job:
    runs-on: ubuntu-latest
    
    steps:
    # PATTERN 1: Always get your code first
    - name: ğŸ“¥ Checkout Code
      uses: actions/checkout@v4
      
    # PATTERN 2: Setup your programming language/environment
    - name: ğŸŸ¢ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    # PATTERN 3: Install dependencies
    - name: ğŸ“¦ Install Dependencies
      run: npm ci
      
    # PATTERN 4: Run your main task (tests, build, etc)
    - name: ğŸš€ Run Main Task
      run: |
        echo "This is where you run your main task:"
        echo "- npm test (for testing)"
        echo "- npm run build (for building)"
        echo "- npx cypress run (for E2E tests)"
        echo "- python script.py (for Python projects)"
        echo "- mvn test (for Java projects)"
        
    # PATTERN 5: Handle success/failure
    - name: âœ… On Success
      if: success()
      run: echo "Task completed successfully!"
      
    - name: âŒ On Failure  
      if: failure()
      run: echo "Task failed - need to investigate"
      
    # PATTERN 6: Always run (cleanup, notifications, etc)
    - name: ğŸ§¹ Always Run This
      if: always()
      run: echo "This runs whether success or failure" 